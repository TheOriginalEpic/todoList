<head>
  <title>todoList</title>
</head>

<body>
	<div class="container">
	  {{> top}}
	  {{> addTodo}}
	  {{> main}}
	</div>
</body>

<template name="top">
	<div class="row top">
		<div class="col">
			<h3 class= "title">Todo List ({{tasksFound}})</h3>
		</div>

		<div class="col-auto">
			<div class="form-check">
			  <input class="form-check-input" type="checkbox" value="" id="hide">
			  <label class="form-check-label" for="hide">Hide Completed Tasks</label>
			</div>
		</div>
		
		<div class="w-100"></div>

		<div class="col">
			{{> loginButtons}}
		</div>

		<div class="col-auto">
			{{> search}}
		</div>
	</div>
</template>

<template name="search">
  {{> EasySearch.Input index=tasksIndex}}

  <div class="taskName">
    {{#EasySearch.Each index=tasksIndex}}
      <p>Task Name: {{task}}</p>
    {{/EasySearch.Each}}
  </div>

  {{> EasySearch.LoadMore count=3 index=tasksIndex}}

  {{#EasySearch.IfNoResults index=tasksIndex}}
    <div class="no-results">No results found!</div>
  {{/EasySearch.IfNoResults}}
</template>

<template name="main">
	{{#each mainAll}}
	<div class="row main" id="{{_id}}">
		<div class="col-auto">
			<div class="form-check">
			  <input class="form-check-input" type="checkbox" value="" id="task">
			  <label class="form-check-label" for="task">{{task}}</label>
			</div>

			<div class="col-auto">
				<small class="text-muted">{{taskAge}}</small>
				<small>Posted by <a href="#" id={{userId}} class="usrClick">{{userLoggedIn}}</a></small>
			</div>
		</div>

		<div class="col-auto">
			<i class="zmdi zmdi-close-circle js-delete"></i>
		</div>

		<div class="col-auto">
			<i class="zmdi zmdi-edit js-edit"></i>
		</div>
	</div>
	{{/each}}
</template>

<template name="addTodo">
	<!-- Button trigger modal -->
	<div class="row">
		<div class="col text-center">
			<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addTodo">
				Add Todo
			</button>
		</div>
	</div>

	<!-- Modal -->
	<div class="modal fade" id="addTodo" tabindex="-1" role="dialog" aria-labelledby="addTodo" aria-hidden="true">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="addTodoTitle">Add Task</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
	        <div class="input-group mb-2 mr-sm-2">
						<div class="input-group-prepend">
							<div class="input-group-text">Task</div>
						</div>
						<input type="text" class="form-control" id="Task" placeholder="Apply Patch">
					</div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-primary js-save">Save changes</button>
	      </div>
	    </div>
	  </div>
	</div>
</template>

<template name="editTodo">
	
</template>
